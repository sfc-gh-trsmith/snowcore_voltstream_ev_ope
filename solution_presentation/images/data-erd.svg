<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 600" width="900" height="600">
  <!-- Background -->
  <rect width="900" height="600" fill="#0f172a"/>
  
  <!-- Title -->
  <text x="450" y="30" fill="#f8fafc" font-family="system-ui, -apple-system, sans-serif" font-size="18" font-weight="700" text-anchor="middle">VoltStream OPE Data Model</text>
  <text x="450" y="52" fill="#94a3b8" font-family="system-ui, sans-serif" font-size="12" text-anchor="middle">Bronze → Silver → Gold Medallion Architecture</text>
  
  <!-- ===== BRONZE LAYER ===== -->
  <rect x="20" y="70" width="270" height="220" rx="8" fill="#1e293b" stroke="#f59e0b" stroke-width="2"/>
  <rect x="20" y="70" width="270" height="30" rx="8" fill="#f59e0b"/>
  <rect x="20" y="92" width="270" height="8" fill="#f59e0b"/>
  <text x="155" y="92" fill="#0f172a" font-family="system-ui, sans-serif" font-size="12" font-weight="700" text-anchor="middle">BRONZE (RAW)</text>
  
  <!-- Bronze tables -->
  <rect x="35" y="110" width="240" height="35" rx="4" fill="#0f172a" stroke="#475569" stroke-width="1"/>
  <text x="50" y="125" fill="#f59e0b" font-family="monospace" font-size="10" font-weight="600">MATERIAL_DOCUMENT_CDC</text>
  <text x="50" y="140" fill="#64748b" font-family="system-ui, sans-serif" font-size="9">ERP inventory movements</text>
  
  <rect x="35" y="150" width="240" height="35" rx="4" fill="#0f172a" stroke="#475569" stroke-width="1"/>
  <text x="50" y="165" fill="#f59e0b" font-family="monospace" font-size="10" font-weight="600">PROD_ORDER_HEADER_CDC</text>
  <text x="50" y="180" fill="#64748b" font-family="system-ui, sans-serif" font-size="9">Production schedules</text>
  
  <rect x="35" y="190" width="240" height="35" rx="4" fill="#0f172a" stroke="#475569" stroke-width="1"/>
  <text x="50" y="205" fill="#f59e0b" font-family="monospace" font-size="10" font-weight="600">EQUIPMENT_STATE_LOG_CDC</text>
  <text x="50" y="220" fill="#64748b" font-family="system-ui, sans-serif" font-size="9">MES machine states</text>
  
  <rect x="35" y="230" width="240" height="35" rx="4" fill="#0f172a" stroke="#475569" stroke-width="1"/>
  <text x="50" y="245" fill="#f59e0b" font-family="monospace" font-size="10" font-weight="600">AGV_TELEMATICS_LOG_CDC</text>
  <text x="50" y="260" fill="#64748b" font-family="system-ui, sans-serif" font-size="9">Vehicle telemetry + errors</text>
  
  <!-- ===== SILVER LAYER ===== -->
  <rect x="315" y="70" width="270" height="320" rx="8" fill="#1e293b" stroke="#3b82f6" stroke-width="2"/>
  <rect x="315" y="70" width="270" height="30" rx="8" fill="#3b82f6"/>
  <rect x="315" y="92" width="270" height="8" fill="#3b82f6"/>
  <text x="450" y="92" fill="#ffffff" font-family="system-ui, sans-serif" font-size="12" font-weight="700" text-anchor="middle">SILVER (ATOMIC)</text>
  
  <!-- Dimension Tables -->
  <text x="330" y="120" fill="#3b82f6" font-family="system-ui, sans-serif" font-size="10" font-weight="600">DIMENSIONS</text>
  
  <rect x="330" y="128" width="115" height="45" rx="4" fill="#10b98120" stroke="#10b981" stroke-width="1"/>
  <text x="340" y="143" fill="#10b981" font-family="monospace" font-size="9" font-weight="600">ASSET</text>
  <text x="340" y="158" fill="#64748b" font-family="system-ui, sans-serif" font-size="8">ASSET_ID (PK)</text>
  <text x="340" y="170" fill="#64748b" font-family="system-ui, sans-serif" font-size="8">WORK_CENTER_ID (FK)</text>
  
  <rect x="455" y="128" width="115" height="45" rx="4" fill="#10b98120" stroke="#10b981" stroke-width="1"/>
  <text x="465" y="143" fill="#10b981" font-family="monospace" font-size="9" font-weight="600">PRODUCT</text>
  <text x="465" y="158" fill="#64748b" font-family="system-ui, sans-serif" font-size="8">PRODUCT_ID (PK)</text>
  <text x="465" y="170" fill="#64748b" font-family="system-ui, sans-serif" font-size="8">SKU, HIERARCHY</text>
  
  <rect x="330" y="180" width="115" height="45" rx="4" fill="#10b98120" stroke="#10b981" stroke-width="1"/>
  <text x="340" y="195" fill="#10b981" font-family="monospace" font-size="9" font-weight="600">WORK_CENTER</text>
  <text x="340" y="210" fill="#64748b" font-family="system-ui, sans-serif" font-size="8">WORK_CENTER_ID (PK)</text>
  <text x="340" y="222" fill="#64748b" font-family="system-ui, sans-serif" font-size="8">SITE_ID (FK)</text>
  
  <rect x="455" y="180" width="115" height="45" rx="4" fill="#10b98120" stroke="#10b981" stroke-width="1"/>
  <text x="465" y="195" fill="#10b981" font-family="monospace" font-size="9" font-weight="600">SHIFT</text>
  <text x="465" y="210" fill="#64748b" font-family="system-ui, sans-serif" font-size="8">SHIFT_ID (PK)</text>
  <text x="465" y="222" fill="#64748b" font-family="system-ui, sans-serif" font-size="8">START_TIME, END_TIME</text>
  
  <!-- Fact Tables -->
  <text x="330" y="248" fill="#f59e0b" font-family="system-ui, sans-serif" font-size="10" font-weight="600">FACTS</text>
  
  <rect x="330" y="256" width="115" height="55" rx="4" fill="#f59e0b20" stroke="#f59e0b" stroke-width="1"/>
  <text x="340" y="271" fill="#f59e0b" font-family="monospace" font-size="9" font-weight="600">WORK_ORDER</text>
  <text x="340" y="286" fill="#64748b" font-family="system-ui, sans-serif" font-size="8">ORDER_ID (PK)</text>
  <text x="340" y="298" fill="#64748b" font-family="system-ui, sans-serif" font-size="8">PRODUCT_ID, ASSET_ID</text>
  <text x="340" y="308" fill="#64748b" font-family="system-ui, sans-serif" font-size="8">QTY_PLANNED, ACTUAL</text>
  
  <rect x="455" y="256" width="115" height="55" rx="4" fill="#f59e0b20" stroke="#f59e0b" stroke-width="1"/>
  <text x="465" y="271" fill="#f59e0b" font-family="monospace" font-size="9" font-weight="600">EQUIP_DOWNTIME</text>
  <text x="465" y="286" fill="#64748b" font-family="system-ui, sans-serif" font-size="8">DOWNTIME_ID (PK)</text>
  <text x="465" y="298" fill="#64748b" font-family="system-ui, sans-serif" font-size="8">ASSET_ID, REASON_CODE</text>
  <text x="465" y="308" fill="#64748b" font-family="system-ui, sans-serif" font-size="8">DURATION_MIN</text>
  
  <rect x="330" y="318" width="115" height="55" rx="4" fill="#f59e0b20" stroke="#f59e0b" stroke-width="1"/>
  <text x="340" y="333" fill="#f59e0b" font-family="monospace" font-size="9" font-weight="600">EQUIP_FAILURE</text>
  <text x="340" y="348" fill="#64748b" font-family="system-ui, sans-serif" font-size="8">FAILURE_ID (PK)</text>
  <text x="340" y="360" fill="#64748b" font-family="system-ui, sans-serif" font-size="8">ASSET_ID, ERROR_CODE</text>
  <text x="340" y="370" fill="#64748b" font-family="system-ui, sans-serif" font-size="8">TIMESTAMP</text>
  
  <rect x="455" y="318" width="115" height="55" rx="4" fill="#f59e0b20" stroke="#f59e0b" stroke-width="1"/>
  <text x="465" y="333" fill="#f59e0b" font-family="monospace" font-size="9" font-weight="600">ENV_READING</text>
  <text x="465" y="348" fill="#64748b" font-family="system-ui, sans-serif" font-size="8">READING_ID (PK)</text>
  <text x="465" y="360" fill="#64748b" font-family="system-ui, sans-serif" font-size="8">HUMIDITY, DUST_PM25</text>
  <text x="465" y="370" fill="#64748b" font-family="system-ui, sans-serif" font-size="8">TEMPERATURE, ZONE_ID</text>
  
  <!-- ===== GOLD LAYER ===== -->
  <rect x="610" y="70" width="270" height="320" rx="8" fill="#1e293b" stroke="#10b981" stroke-width="2"/>
  <rect x="610" y="70" width="270" height="30" rx="8" fill="#10b981"/>
  <rect x="610" y="92" width="270" height="8" fill="#10b981"/>
  <text x="745" y="92" fill="#0f172a" font-family="system-ui, sans-serif" font-size="12" font-weight="700" text-anchor="middle">GOLD (EV_OPE)</text>
  
  <!-- Views -->
  <text x="625" y="120" fill="#10b981" font-family="system-ui, sans-serif" font-size="10" font-weight="600">ANALYTICS VIEWS</text>
  
  <rect x="625" y="128" width="240" height="55" rx="4" fill="#10b98120" stroke="#10b981" stroke-width="1"/>
  <text x="635" y="143" fill="#10b981" font-family="monospace" font-size="10" font-weight="600">OPE_DAILY_FACT (view)</text>
  <text x="635" y="160" fill="#64748b" font-family="system-ui, sans-serif" font-size="9">Aggregated OPE/OEE metrics by line/shift/date</text>
  <text x="635" y="175" fill="#64748b" font-family="system-ui, sans-serif" font-size="9">Joins: WORK_ORDER + DOWNTIME + FAILURE</text>
  
  <rect x="625" y="190" width="240" height="55" rx="4" fill="#10b98120" stroke="#10b981" stroke-width="1"/>
  <text x="635" y="205" fill="#10b981" font-family="monospace" font-size="10" font-weight="600">AGV_FAILURE_ANALYSIS (view)</text>
  <text x="635" y="222" fill="#64748b" font-family="system-ui, sans-serif" font-size="9">Hourly env metrics + failure correlation</text>
  <text x="635" y="237" fill="#64748b" font-family="system-ui, sans-serif" font-size="9">ML training data for XGBoost</text>
  
  <!-- Output Tables -->
  <text x="625" y="268" fill="#a855f7" font-family="system-ui, sans-serif" font-size="10" font-weight="600">ML/AI OUTPUTS</text>
  
  <rect x="625" y="276" width="240" height="50" rx="4" fill="#a855f720" stroke="#a855f7" stroke-width="1"/>
  <text x="635" y="291" fill="#a855f7" font-family="monospace" font-size="10" font-weight="600">PREDICTIVE_MAINTENANCE_ALERTS</text>
  <text x="635" y="308" fill="#64748b" font-family="system-ui, sans-serif" font-size="9">XGBoost failure predictions</text>
  <text x="635" y="320" fill="#64748b" font-family="system-ui, sans-serif" font-size="9">PROBABILITY, IS_HIGH_FAILURE</text>
  
  <rect x="625" y="332" width="240" height="45" rx="4" fill="#a855f720" stroke="#a855f7" stroke-width="1"/>
  <text x="635" y="347" fill="#a855f7" font-family="monospace" font-size="10" font-weight="600">DOCUMENT_CHUNKS</text>
  <text x="635" y="364" fill="#64748b" font-family="system-ui, sans-serif" font-size="9">Cortex Search index for RAG</text>
  
  <!-- Flow Arrows -->
  <defs>
    <marker id="arrowhead3" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#64748b"/>
    </marker>
  </defs>
  
  <path d="M295 180 L310 180" stroke="#64748b" stroke-width="2" marker-end="url(#arrowhead3)"/>
  <path d="M590 230 L605 230" stroke="#64748b" stroke-width="2" marker-end="url(#arrowhead3)"/>
  
  <!-- Record Counts Summary -->
  <rect x="20" y="410" width="860" height="170" rx="8" fill="#1e293b" stroke="#475569" stroke-width="1"/>
  <text x="450" y="440" fill="#f8fafc" font-family="system-ui, sans-serif" font-size="14" font-weight="700" text-anchor="middle">Data Volume Summary</text>
  
  <!-- Count cards -->
  <rect x="45" y="460" width="160" height="60" rx="4" fill="#f59e0b20" stroke="#f59e0b" stroke-width="1"/>
  <text x="125" y="485" fill="#f59e0b" font-family="system-ui, sans-serif" font-size="11" font-weight="600" text-anchor="middle">BRONZE</text>
  <text x="125" y="508" fill="#f8fafc" font-family="system-ui, sans-serif" font-size="16" font-weight="700" text-anchor="middle">5 CDC Tables</text>
  
  <rect x="225" y="460" width="160" height="60" rx="4" fill="#3b82f620" stroke="#3b82f6" stroke-width="1"/>
  <text x="305" y="485" fill="#3b82f6" font-family="system-ui, sans-serif" font-size="11" font-weight="600" text-anchor="middle">SILVER</text>
  <text x="305" y="508" fill="#f8fafc" font-family="system-ui, sans-serif" font-size="16" font-weight="700" text-anchor="middle">9 Tables (SCD2)</text>
  
  <rect x="405" y="460" width="160" height="60" rx="4" fill="#10b98120" stroke="#10b981" stroke-width="1"/>
  <text x="485" y="485" fill="#10b981" font-family="system-ui, sans-serif" font-size="11" font-weight="600" text-anchor="middle">GOLD</text>
  <text x="485" y="508" fill="#f8fafc" font-family="system-ui, sans-serif" font-size="16" font-weight="700" text-anchor="middle">5 Views + 2 Tables</text>
  
  <rect x="585" y="460" width="130" height="60" rx="4" fill="#29b5e820" stroke="#29b5e8" stroke-width="1"/>
  <text x="650" y="485" fill="#29b5e8" font-family="system-ui, sans-serif" font-size="11" font-weight="600" text-anchor="middle">CORTEX</text>
  <text x="650" y="508" fill="#f8fafc" font-family="system-ui, sans-serif" font-size="14" font-weight="700" text-anchor="middle">Search + Analyst</text>
  
  <rect x="735" y="460" width="130" height="60" rx="4" fill="#a855f720" stroke="#a855f7" stroke-width="1"/>
  <text x="800" y="485" fill="#a855f7" font-family="system-ui, sans-serif" font-size="11" font-weight="600" text-anchor="middle">ML</text>
  <text x="800" y="508" fill="#f8fafc" font-family="system-ui, sans-serif" font-size="14" font-weight="700" text-anchor="middle">XGBoost Model</text>
  
  <!-- Audit columns note -->
  <text x="450" y="555" fill="#64748b" font-family="system-ui, sans-serif" font-size="10" text-anchor="middle">All SILVER tables include: VALID_FROM_TIMESTAMP, VALID_TO_TIMESTAMP, IS_CURRENT_FLAG, CREATED_BY, UPDATED_BY</text>
  <text x="450" y="570" fill="#64748b" font-family="system-ui, sans-serif" font-size="10" text-anchor="middle">All BRONZE tables include: _CDC_OPERATION, _CDC_TIMESTAMP, _LOADED_TIMESTAMP</text>
</svg>

